# =============================================================================
# Talent Promo - Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Required: Anthropic API (powers the LangGraph resume optimization workflow)
# -----------------------------------------------------------------------------
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-sonnet-4-5

# -----------------------------------------------------------------------------
# Required: EXA API (web search and content fetching for research)
# -----------------------------------------------------------------------------
EXA_API_KEY=your-exa-api-key-here

# -----------------------------------------------------------------------------
# Optional: LangSmith Tracing (monitoring and debugging)
# Get your API key at: https://smith.langchain.com/
# -----------------------------------------------------------------------------
LANGSMITH_TRACING=true
LANGSMITH_API_KEY=lsv2_your-langsmith-api-key-here
LANGSMITH_PROJECT=talent-promo

# -----------------------------------------------------------------------------
# Optional: OpenAI API (only needed for legacy Temporal research agent)
# The main LangGraph workflow does NOT require OpenAI
# -----------------------------------------------------------------------------
# OPENAI_API_KEY=sk-your-openai-api-key-here
# OPENAI_MODEL=gpt-4o-mini

# -----------------------------------------------------------------------------
# Workflow Persistence (survives server restarts)
# -----------------------------------------------------------------------------
# Options: "memory" (default, lost on restart), "sqlite", "postgres", "redis"
LANGGRAPH_CHECKPOINTER=postgres
# For SQLite (simple file-based, no extra infra needed):
# LANGGRAPH_SQLITE_PATH=./workflow_checkpoints.db
# For Postgres (production - recommended, use docker-compose.yml for local dev):
# Local: postgresql://postgres:postgres@localhost:5434/talent_promo
DATABASE_URL=postgresql://postgres:postgres@localhost:5434/talent_promo
# For Redis (distributed):
# REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# Thread Cleanup (for scheduled cron jobs)
# -----------------------------------------------------------------------------
# API key to authenticate cleanup endpoint (optional, but recommended for production)
CLEANUP_API_KEY=your-cleanup-api-key-here
# Default TTL for threads in days (default: 30)
THREAD_TTL_DAYS=30

# -----------------------------------------------------------------------------
# User Authentication (Magic Link)
# -----------------------------------------------------------------------------
# JWT secret for session tokens (auto-generated if not set)
# JWT_SECRET=your-jwt-secret-here
# Session expiry in days (default: 7)
JWT_EXPIRY_DAYS=7
# Magic link expiry in minutes (default: 15)
MAGIC_LINK_EXPIRY_MINUTES=15
# Frontend URL for magic link redirects
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Email Service (for magic link emails)
# -----------------------------------------------------------------------------
# Optional: Resend API key (if not set, magic links are logged to console)
# EMAIL_API_KEY=re_your-resend-api-key-here
EMAIL_FROM_ADDRESS=noreply@resumeoptimizer.app
EMAIL_FROM_NAME=Resume Optimizer

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Bot Protection (Cloudflare Turnstile)
# Get keys at: https://dash.cloudflare.com/ > Turnstile
# When not set, Turnstile is bypassed (dev mode)
# Test keys (always passes): Site=1x00000000000000000000AA Secret=1x0000000000000000000000000000000AA
# -----------------------------------------------------------------------------
# TURNSTILE_SECRET_KEY=
# NEXT_PUBLIC_TURNSTILE_SITE_KEY=

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_URL=http://localhost:8000
